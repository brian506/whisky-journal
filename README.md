
<div align="center">

<!-- logo -->
## Whiskypedia 프로젝트

</div> 

### 📝 프로젝트 소개

----

```
위스키 SNS
```

### 버전

----

spring boot : 3.4.2  
java : 17

### API 명세서

----


### 컨벤션 규칙

----

- Git 커밋 메시지는 `faet`, `docs`, `test`, `refactor`, `fix`, `chore` 를 이용한다.
    - feat: 기능 추가, 개발
    - docs: 문서 작성
    - test: 테스트 코드 작성
    - refactor: 리팩토링 작업
    - fix : 버그 수정
    - chore : 그외

- 기본적으로 Java 컨벤션을 준수한다. (https://thalals.tistory.com/325)
- 클린코드 원칙에 맞춰 개발한다.
- else 를 사용하지 않는다.
- depth 는 2를 넘어가지 않는다. ex) for 메서드 내부에 if 가 있으면 depth 가 2 이다.
- 상수는 따로 분리한다.
- DTO 매핑은 Service 계층에서 진행한다.


### 디렉토리 구조

-----

- auth : 인증/인가 관련 로직을 구현한다.
- config : 애플리케이션 전역 설정 Bean 을 등록한다.
- constants : 상수를 관리한다.
- domain : 도메인 관련 로직을 구현한다.
    - controller : Rest API 계층
    - dto : dto 네이밍은 요청(xxxRequest), 응답(xxxResponse) 로 정의한다.
    - entity : 테이블과 매핑되는 클래스를 정의한다.
    - repository : 저장소역할을 담당한다.
    - service : 비지니스 로직을 담당한다.
- exception : 예외 관련 처리를 담당한다.
- infra : redis, s3, fcm 등 외부 라이브러리와 연동한다.


### 실행 방법

----

(1) 루트 디렉토리에 .env 환경설정 파일을 만든다.  
(2) .env 관련 설정은 다음과 같다. 
```
DB_URL=jdbc:mysql://localhost:3306/{테이블 이름}?serverTimezone=Asia/Seoul
DB_USERNAME={사용자 db id}
DB_PASSWORD={사용자 db pw}
SECRET_KEY=...
ACCESS_KEY_EXPIRATION_SECONDS=...
REFRESH_KEY_EXPIRATION_SECONDS= ...
```


### 기능 명세서

----

### 로그인/회원가입 기능 
- [ ] KeyCloak을 이용해 네이버, 구글 소셜로그인을 통해 로그인한다.
- [ ] Google, Naver 계정 유/무 를 판단한 뒤 계정이 있으면 사용자 정보를 조회하고, 계정이 존재하지 않으면 Client 에게 회원가입을 요청한다.
  - [ ] 회원가입 시 닉네임, 이름, 생년월일, 선호 위스키 종류를 입력받는다.

### 사용자 관련 기능
- [ ] 자신의 정보를 조회한다. (마이페이지)
  - [ ] 닉네임, 이름, 생년월일 정보 조회
  - [ ] 보유 중인 위스키 목록, 위스키 구매가 합계, 관심 있는 위스키 목록 정보 조회
  - [ ] 작성 리뷰 목록, 작성 댓글 정보 조회
  - [ ] 팔로워, 팔로잉 정보 조회
- [ ] 자신이 보유 중인 위스키를 등록한다.
  - [ ] 보유 중인 위스키의 사진을 찍어 이미지를 업로드 한다.
  - [ ] 등록 된 위스키들의 구매가 합계를 계산한다.
- [ ] 관심 있는 위스키를 즐겨찾기에 등록한다.
- [ ] 보유 중인 위스키의 리뷰를 등록한다.
  - [ ] 평점, 내용을 작성한다.
- [ ] 위스키를 검색하여 구매한다.

### 위스키 관련 기능
- [ ] WhiskyEdition API 를 이용해 모든 위스키의 정보를 토대로 조회한다.
  - [ ] 위스키의 이름, 도수, 년도, 지역, 제조회사, 이미지, 종류, 향, 맛 등을 나타낸다.
    - [ ] 위스키를 필터링(도수, 년도, 지역, 제조회사, 종류)하여 조회할 수 있도록 한다.
- [ ] 해당 위스키의 사용자 리뷰를 나타낸다.
  - [ ] 평점, 댓글, 사용자 이름이 보이게 한다.
- [ ] Monthly, Weekly 조회순, 관심등록 순으로 10위까지 랭킹 부여한다.
- [ ] 관심있는, 마셔본 위스키를 분류하여 사용자가 추가할 수 있도록 한다.
  - [ ] 관심 추가한 위스키의 게시물를 피드에 최신 순으로 보여지게 한다.
- [ ] 네이버 검색 API 를 통해 위스키 이름을 검색한다.
  - [ ] 검색된 위스키의 구매가격을 나타낸다.
    - [ ] 네이버 페이 결제 API 를 통해 위스키를 구매한다.

### 팔로워 팔로잉 CRUD
- [ ] 사용자가 다른 사용자를 팔로우 요청한다. (CREATE)
  - [ ] 대상이 공개 계정이면 즉시 팔로우 상태로 전환한다.
  - [ ] 대상이 비공개 계정이면 팔로우 대기 상태로 생성하고 대상에게 알림을 보낸다.
  - [ ] 자기 자신 팔로우 금지, 중복 요청 방지, 차단 중이면 금지 규칙을 적용한다.
  - [ ] 성공 시 팔로우 카운트를 일관성 있게 반영한다.
- [ ] 특정 사용자의 팔로워, 팔로잉 목록을 조회할 수 있다. (READ)
  - [ ] 나에게 들어온 팔로우 요청, 내가 보낸 요청을 각각 조회할 수 있다.
  - [ ] 상태 표시 (승인, 대기, 거부)
- [ ] UPDATE
  - [ ] 비공개 계정 소유자는 팔로우 요청을 수락/거절할 수 있다.
    - [ ] 수락 시 (대기 -> 승인), 카운트 반영 및 상대방 알림
    - [ ] 거절 시 기록 삭제 또는 (거부)
  - [ ] 개별 상대에 대한 알림 설정(새 리뷰, 새 위스키 등록 알림 ON/OFF)
  - [ ] 닉네임 / 아이디 변경 시 기존 목록 유지
- [ ] DELETE
  - [ ] 사용자는 상대를 언팔로우 할 수 있다.
  - [ ] 대기 중인 팔로우 요쳥을 취소할 수 있다.
  - [ ] 사용자 자신은 팔로워를 강제 제거할 수 있다.